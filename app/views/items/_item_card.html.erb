  <!-- _item_card.html.erb -->
  <% if item %>
    <div class="item-card" onclick="showPopup()">
      <div class="item-card-content">
        <% if item.image.attached? %>
          <%= image_tag item.image, alt: "#{item.name} image", style: "width: 100%;" %>
        <% else %>
          <p>No image available</p>
        <% end %>
        <h3><%= item.name || "No name added" %></h3>
        <p><%= item.description || "No description available" %></p>
      </div>
    </div>

  <!-- Navigation buttons -->
  <div class="navigation">
    <% if previous_item_id %>
      <%= link_to "Previous Item", tier_list_items_path(@tier_list, current_item_id: previous_item_id), class: "btn" %>
    <% end %>
    <% if next_item_id %>
      <%= link_to "Next Item", tier_list_items_path(@tier_list, current_item_id: next_item_id), class: "btn" %>
    <% end %>
  </div>
<% else %>
  <p>No items to rank.</p>
<% end %>

  <div class="item-ranking">
    <h4>Rank this Item</h4>
    <!-- Pass item data as data attributes -->
    <%= form_with url: update_item_ranking_path(@tier_list, @current_item), method: :patch, local: true, html: { id: "ranking-form", data: { item_name: @current_item.name, item_description: @current_item.description || "Subtitle placeholder text" } } do |f| %>
      <%= f.label :ranking, "Select Rank" %>
      <%= f.select :ranking, options_for_select((1..6).map { |n| [n, n] }, @item_ranking&.ranking), {}, { id: "rank-select" } %>
      <%= f.submit "Update Ranking" %>
    <% end %>
  </div>
