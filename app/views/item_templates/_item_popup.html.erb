<!-- app/views/items/_item_popup.html.erb -->
<div id="popup-overlay" class="popup-outer" style="display: none;">
  <div id="popup-content" class="popup-inner">
    <!-- Close Button -->
    <button onclick="hidePopup()">Ã—</button>

    <!-- Detailed item content -->
    <div class="popup-header">
      <h1><%= item.name %></h1>
    </div>

    <div class="popup-image">
      <!-- Display the item image if it exists -->
      <% if item.image.attached? %>
        <%= image_tag item.image, alt: "#{item.name} image" %>
      <% else %>
        <div class="popup-image-placeholder">
          <p>No image available</p>
        </div>
      <% end %>
    </div>

    <div class="popup-description">
      <h3>Description</h3>
      <p><%= item.description || "No description available" %></p>
    </div>

    <!-- Display custom fields if they exist -->
    <% if item.custom_fields.present? %>
      <hr>
      <h4>Additional Details</h4>
      <% item.custom_fields.each do |field_name, field_value| %>
        <div>
          <strong><%= field_name.capitalize %>:</strong> <%= field_value %>
        </div>
      <% end %>
    <% end %>
  </div>
</div>
